<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="shipment_quote_schedule_view_form" model="ir.ui.view">
        <field name="name">shipment.quote.schedule.view.form</field>
        <field name="model">shipment.quote</field>
        <field name="inherit_id" ref="fm_quote.view_shipment_quote_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='quotation_line_ids']/.." position="after">
                <separator string="Vessel Details" name="vessel_details" attrs="{'invisible': ['|', '|', ('mode_type','!=', 'sea'), ('quote_for', '!=', 'shipment'),'&amp;', ('add_vessel_details', '=', False ), ('state', '!=', 'draft')]}"/>
                <label for="add_vessel_details" class="font-weight-bold" attrs="{'invisible': ['|', '|', ('mode_type','!=', 'sea'), ('quote_for', '!=', 'shipment'), ('state', '!=', 'draft')]}"/>
                <field name="add_vessel_details" widget="boolean_toggle" attrs="{'invisible': ['|', '|', ('mode_type','!=', 'sea'), ('quote_for', '!=', 'shipment'), ('state', '!=', 'draft')]}" nolable="1"/>
                <field name="schedule_ids" nolabel="1" attrs="{'invisible': ['|', ('quote_for', '!=', 'shipment'), ('add_vessel_details','=', False)]}"
                    context="{'default_transport_mode_id': transport_mode_id,'default_carrier_id':carrier_id,
                        'default_origin_port_id': port_of_loading_id, 'default_destination_port_id': port_of_discharge_id}">
                    <tree editable="top">
                        <field name="carrier_id"/>
                        <field name="vessel_id" required="1"/>
                        <field name="voyage_number" required="1"/>
                        <field name="service_name"/>
                        <field name="imo_number" optional="hide"/>
                        <field name="scac_number" optional="hide" required="1"/>
                        <field name="origin_port_id"/>
                        <field name="destination_port_id"/>
                        <field name="estimated_departure_date" optional="hide"/>
                        <field name="estimated_arrival_date" optional="hide"/>
                        <field name="vessel_cut_off" optional="hide"/>
                        <field name="vgm_cut_off" optional="hide"/>
                        <field name="si_cutoff"/>
                        <field name="transit_time"/>
                        <field name="transport_mode_id" invisible="1"/>
                        <field name="name" invisible="1"/>
                    </tree>
                </field>
            </xpath>
        </field>
    </record>

</odoo>
