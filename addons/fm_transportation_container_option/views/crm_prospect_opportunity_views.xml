<?xml version="1.0" ?>
<odoo>

    <record id="crm_prospect_opportunity_view_form_transportation_details" model="ir.ui.view">
        <field name="name">crm_prospect_opportunity.transportation.view.form</field>
        <field name="model">crm.prospect.opportunity</field>
        <field name="priority" eval="18"/>
        <field name="inherit_id" ref="crm_prospect_lead.crm_prospect_opportunity_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//group[@name='party_details']" position="after">
                <separator string="Transportation Details" name="transportation_details" attrs="{'invisible': [('mode_type','!=','land')]}"/>
                <label for="add_transportation_details" class="font-weight-bold" attrs="{'invisible': [('mode_type','!=','land')]}"/>
                <field name="add_transportation_details" widget="boolean_toggle" attrs="{'invisible': [('mode_type','!=','land')]}" nolable="1"/>
                <field name="transportation_detail_ids" nolabel="1" attrs="{'invisible': [('add_transportation_details','=', False)]}">
                    <tree>
                        <field name="is_refrigerated" invisible="1"/>
                        <field name="transport_mode_id" invisible="1"/>
                        <field name="truck_number_id" options="{'no_create': True}" width="15"/>
                        <field name="trailer_number_id" options="{'no_create': True}" width="15"/>
                        <field name="container_type_id" width="10" options="{'no_create': True}" domain="[('transport_mode_id', '=', transport_mode_id)]"
                               attrs="{'required': [('parent.is_package_group', '=', False)], 'column_invisible': [('parent.is_package_group', '=', True)]}"/>
                        <field name="quantity" attrs="{'required': [('parent.is_package_group', '=', False)],'column_invisible': [('parent.is_package_group', '=', True)]}" width="8"
                               string="Truck Quantity"/>
                        <field name="container_temperature" attrs="{'invisible': [('is_refrigerated', '=', False)], 'required': [('is_refrigerated', '=', True)]}" width="8" optional="hide"/>
                        <field name="container_temperature_uom_id" options="{'no_create': True, 'no_open': True}" width="10"
                               attrs="{'invisible': [('is_refrigerated', '=', False)], 'required': [('is_refrigerated', '=', True)]}" optional="hide"/>
                        <field name="max_temperature" attrs="{'invisible': [('is_refrigerated', '=', False)], 'required': [('is_refrigerated', '=', True)]}" width="8" optional="hide"/>
                        <field name="max_temperature_uom_id" options="{'no_create': True, 'no_open': True}" width="10"
                               attrs="{'invisible': [('is_refrigerated', '=', False)], 'required': [('is_refrigerated', '=', True)]}" optional="hide"/>
                        <field name="package_uom_id" attrs="{'column_invisible': [('parent.is_package_group', '=', False)]}" width="10"/>
                        <field name="weight" attrs="{'column_invisible': [('parent.is_package_group', '=', False)]}" width="12"/>
                        <field name="weight_uom_id" attrs="{'column_invisible': [('parent.is_package_group', '=', False)]}" width="12" options="{'no_create': True}"/>
                        <field name="volume" attrs="{'column_invisible': [('parent.is_package_group', '=', False)]}" width="12"/>
                        <field name="volume_uom_id" attrs="{'column_invisible': [('parent.is_package_group', '=', False)]}" width="12" options="{'no_create': True}"/>
                        <field name="total_weight" attrs="{'column_invisible': [('parent.is_package_group', '=', False)]}" width="12"/>
                        <field name="total_weight_uom_id" attrs="{'column_invisible': [('parent.is_package_group', '=', False)]}" width="12" options="{'no_create': True}"/>
                        <field name="total_volume" attrs="{'column_invisible': [('parent.is_package_group', '=', False)]}" width="12"/>
                        <field name="total_volume_uom_id" attrs="{'column_invisible': [('parent.is_package_group', '=', False)]}" width="12" options="{'no_create': True}"/>
                        <field name="service_name" width="10" optional="hide"/>
                        <field name="pickup_location_type_id" width="10" optional="hide"/>
                        <field name="road_origin_un_location_id" width="10" optional="hide"/>
                        <field name="delivery_location_type_id" width="10" optional="hide"/>
                        <field name="road_destination_un_location_id" width="10" optional="hide"/>
                        <field name="estimated_pickup" width="10" optional="hide"/>
                        <field name="expected_delivery" width="10" optional="hide"/>
                        <field name="transit_time" width="8" optional="hide"/>
                    </tree>
                </field>
            </xpath>
            <xpath expr="//page[@name='cargo_details']" position="attributes">
                <attribute name="attrs">{'invisible': ['|', '|', ('opportunity_for', '!=', 'shipment'), ('is_package_group', '=', False), ('mode_type','=','land')]}</attribute>
            </xpath>
            <xpath expr="//page[@name='container_details']" position="attributes">
                <attribute name="attrs">{'invisible': ['|', '|', ('opportunity_for', '!=', 'shipment'), ('is_package_group', '=', True), ('mode_type','=','land')]}</attribute>
            </xpath>
        </field>
    </record>

</odoo>
