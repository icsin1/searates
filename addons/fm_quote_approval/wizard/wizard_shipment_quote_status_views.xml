<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="inherit_wizard_shipment_quote_status_view_form" model="ir.ui.view">
        <field name="name">wizard.shipment.quote.status.form</field>
        <field name="model">wizard.shipment.quote.status</field>
        <field name="inherit_id" ref="fm_quote.wizard_shipment_quote_status_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='remark']" position="after">
                <field name="show_cancel_state_only" invisible="1"/>
                <field name="quotation_state" invisible="1"/>
            </xpath>
            <xpath expr="//field[@name='state']" position="attributes">
                <attribute name="attrs">{'readonly':[('show_cancel_state_only' ,'=', True)]}</attribute>
                <attribute name="force_save">1</attribute>
            </xpath>
            <xpath expr="//form/group" position="before">
                <div class="alert alert-info mb-0" role="alert" attrs="{'invisible':[('show_cancel_state_only' ,'!=', True)]}">
                    As quote in <field name="quotation_state"/> status you can only cancel the quote.
                </div>
            </xpath>

        </field>
    </record>

</odoo>
