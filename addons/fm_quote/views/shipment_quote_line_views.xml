<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_shipment_quote_line_form" model="ir.ui.view">
        <field name="name">shipment.quote.line.form</field>
        <field name="model">shipment.quote.line</field>
        <field name="arch" type="xml">
            <form string="Shipment Quote Charge">
                <group string="Charge">
                    <group>
                        <field name="sequence" invisible="1"/>
                        <field name="currency_id" invisible="1"/>
                        <field name="company_id" invisible="1"/>
                        <field name="domain_measurement_ids" invisible="1"/>
                        <field name="charge_domain" invisible="1"/>
                        <field name="product_id" domain="charge_domain" options="{'no_create': True}"/>
                        <field name="service_name" string="Charge Description"/>
                    </group>
                    <group>
                        <field name="quantity"/>
                        <field name="uom_id" invisible="1"/>
                        <label for="measurement_basis_id" string="Measurement Basis"/>
                        <div class="o_row">
                            <field name="is_container_type_basis" invisible="1"/>
                            <field name="measurement_basis_id" domain="[('id', 'in' , domain_measurement_ids), ('transport_mode_ids', '=', parent.transport_mode_id)]" options="{'no_create': True, 'no_open': True}" />
                            <field name="container_type_id" attrs="{'invisible': [('is_container_type_basis', '=', False)], 'required': [('is_container_type_basis', '=', True)]}"
                                options="{'no_create': 1}"/>
                        </div>
                    </group>
                </group>
                <group>
                    <group name="cost_group" string="Cost">
                        <field name="cost_currency_mismatch" invisible="1" />
                        <field name="cost_currency_id" options="{'no_create': True}"/>
                        <field name="cost_conversion_rate" attrs="{'invisible': [('cost_currency_mismatch', '=', False)]}" force_save="1"/>
                        <field name="cost_amount_rate"/>
                        <field name="creditor_partner_id" domain="[('parent_id', '=', False), ('category_ids.is_vendor', '=', True), '|', ('company_id', '=', company_id), ('company_id', '=', False)]" options="{'no_create': True, 'no_open': True}"/>
                        <field name="creditor_address_id" context="{'partner_category_display': 'short', 'show_address': 1, 'default_parent_id': creditor_partner_id, 'default_type': 'invoice', 'form_view_ref': 'freight_base.res_partner_address_form'}" options="{&quot;always_reload&quot;: True, &quot;highlight_first_line&quot;: True}"/>
                        <field name="property_account_expense_id" options="{'no_create': True}"/>
                        <field name="supplier_tax_ids" widget="many2many_tags"/>
                        <field name="cost_remarks"/>
                    </group>
                    <group name="revenue_group" string="Revenue">
                        <field name="sell_currency_mismatch" invisible="1" />
                        <field name="sell_currency_id" options="{'no_create': True}"/>
                        <field name="sell_conversion_rate" attrs="{'invisible': [('sell_currency_mismatch', '=', False)]}" force_save="1"/>
                        <field name="sell_amount_rate"/>
                        <field name="charge_note"/>
                        <field name="debtor_partner_id"/>
                        <field name="debtor_address_id" context="{'partner_category_display': 'short', 'show_address': 1, 'default_parent_id': debtor_partner_id, 'default_type': 'invoice', 'form_view_ref': 'freight_base.res_partner_address_form'}" options="{&quot;always_reload&quot;: True, &quot;highlight_first_line&quot;: True}"/>
                        <field name="property_account_income_id" options="{'no_create': True}"/>
                        <field name="tax_ids" widget="many2many_tags"/>
                        <field name="sell_remarks"/>
                        <field name="allowed_partner_ids" widget="many2many_tags" invisible="1"/>
                    </group>
                </group>
                <group>
                    <group>
                        <field name="total_cost_amount"/>
                    </group>
                    <group>
                        <field name="total_sell_amount"/>
                    </group>
                </group>
            </form>
        </field>
    </record>
    <record model="ir.ui.view" id="view_shipment_quote_line_tree">
        <field name="name">shipment.quote.line.tree</field>
        <field name="model">shipment.quote.line</field>
        <field name="arch" type="xml">
            <tree>
                <field name="sequence" widget="handle"/>
                <field name="include_charges" widget="boolean_toggle" attrs="{'column_invisible': ['|', ('parent.state', '!=', 'draft'), ('parent.show_incl_single_line', '=', True)]}"/>
                <field name="currency_id" invisible="1"/>
                <field name="charge_domain" invisible="1"/>
                <field name="product_id" domain="charge_domain"/>
                <field name="service_name" string="Charge Description"/>
                <field name="measurement_basis_id"/>
                <field name="is_container_type_basis" invisible="1"/>
                        <field name="container_type_id" options="{'no_create': 1, 'no_open': 1}" attrs="{'readonly': [('is_container_type_basis', '=', False)], 'required': [('is_container_type_basis', '=', True)]}"/>
                <field name="quantity"/>
                <field name="cost_currency_id" invisible="1"/>
                <field name="sell_currency_id" invisible="1"/>
                <field name="cost_amount_rate" groups="fm_sale_crm.group_sales_manager,freight_base.group_manage_pricing,base.group_system"/>
                <field name="sell_amount_rate"/>
                <field name="charge_note"/>
            </tree>
        </field>
    </record>
</odoo>
