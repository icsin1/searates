<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <record id="crm_sale_targets_company_rule" model="ir.rule">
            <field name="name">CRM Targets Multi-Company</field>
            <field name="model_id" ref="fm_sale_crm.model_crm_sale_target"/>
            <field name="domain_force">['|',('company_id','=',False), ('company_id', 'in', company_ids)]</field>
        </record>

        <!--Sales & CRM Groups-->
        <record id="module_category_sale_crm" model="ir.module.category">
            <field name="name">Sales &amp; CRM</field>
            <field name="description">Helps you handle your Shipment.</field>
            <field name="sequence">1</field>
        </record>

        <record id="group_salesman" model="res.groups">
            <field name="name">Salesman</field>
            <field name="category_id" ref="module_category_sale_crm"/>
            <field name="comment">Sales: Salesman</field>
        </record>

        <record id="group_sales_manager" model="res.groups">
            <field name="name">Sales Manager</field>
            <field name="category_id" ref="module_category_sale_crm"/>
            <field name="comment">Sales: Sales Manager</field>
            <field name="implied_ids" eval="[(4, ref('fm_sale_crm.group_salesman'))]"/>
        </record>

        <record id="group_sales_administrator" model="res.groups">
            <field name="name">Sales Administrator</field>
            <field name="category_id" ref="module_category_sale_crm"/>
            <field name="comment">Sales: Sales Administrator</field>
            <field name="implied_ids" eval="[(4, ref('fm_sale_crm.group_sales_manager'))]"/>
        </record>
        <!--Record Rules-->
        <record model="ir.rule" id="crm_sale_target_admin_rule">
            <field name="name">crm_sale_target: Admin Access</field>
            <field name="model_id" ref="fm_sale_crm.model_crm_sale_target"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('base.group_system')), (4, ref('fm_sale_crm.group_sales_administrator'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>

        <record model="ir.rule" id="crm_sale_target_salesman_rule">
            <field name="name">crm_sale_target: Salesman Access</field>
            <field name="model_id" ref="fm_sale_crm.model_crm_sale_target"/>
            <field name="domain_force">	[('user_id','=', user.id)]</field>
            <field name="groups" eval="[(4, ref('fm_sale_crm.group_salesman'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
            <field name="perm_write" eval="False"/>
            <field name="active" eval="False"/>
        </record>

         <record model="ir.rule" id="sale_team_own">
            <field name="name">Sales Team Own</field>
            <field name="model_id" ref="model_crm_prospect_team"/>
            <field name="domain_force">['|','|','|',('user_id','=',user.id),('user_id','=',False),('member_ids','=',False),('member_ids', '=', user.id)]</field>
             <field name="groups" eval="[(4, ref('fm_sale_crm.group_salesman')), (4, ref('freight_base.group_operation_associate'))]"/>
        </record>

        <record model="ir.rule" id="sale_team_all">
            <field name="name">Sales Team All: Admin Access</field>
            <field name="model_id" ref="model_crm_prospect_team"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('base.group_system')), (4, ref('fm_sale_crm.group_sales_administrator'))]"/>
        </record>

        <record model="ir.rule" id="sale_team_company_rule">
            <field name="name">Sales Team Multi Company</field>
            <field name="model_id" ref="model_crm_prospect_team"/>
            <field name="domain_force">['|',('company_id','=',False), ('company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="res_partner_salesman_rule">
            <field name="name">res_partner: Salesman Access</field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="domain_force">	['|', ('user_id','=', user.id), ('create_uid','=', user.id)]</field>
            <field name="groups" eval="[(4, ref('fm_sale_crm.group_salesman'))]"/>
            <field name="perm_read" eval="False"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="active" eval="True"/>
        </record>

        <function name="write" model="ir.model.data">
            <function name="search" model="ir.model.data">
                <value eval="[('module', '=', 'base'), ('name', '=', 'res_partner_rule_private_group')]"/>
            </function>
            <value eval="{'noupdate': False}" />
        </function>

        <record id="base.res_partner_rule_private_group" model="ir.rule">
            <field name="perm_read" eval="False"/>
        </record>

        <function name="write" model="ir.model.data">
            <function name="search" model="ir.model.data">
                <value eval="[('module', '=', 'base'), ('name', '=', 'res_partner_rule_private_group')]"/>
            </function>
            <value eval="{'noupdate': True}" />
        </function>

    </data>
</odoo>
