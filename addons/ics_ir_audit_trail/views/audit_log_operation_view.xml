<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record model="ir.ui.view" id="view_auditlog_operation_tree_audit_trail">
        <field name="name">ir.audit.log.operation.tree.audit</field>
        <field name="model">ir.audit.log.operation</field>
        <field name="arch" type="xml">
            <tree create="0" edit="0" delete="0">
                <button name="button_open_chatter_view" title="Download Document" class="btn btn-primary btn-icon fa fa-history" type="object"/>
                <field name="operation_date_time"/>
                <field name="user_id" widget="many2one_avatar_user"/>
                <field name="name" />
                <field name="operation_type"/>
                <field name="change_values" widget="html"/>
            </tree>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_auditrail_operation_tree">
        <field name="name">Audit Trail</field>
        <field name="res_model">ir.audit.log.operation</field>
        <field name="view_mode">tree</field>
        <field name="domain">[('model_id.model', '=', 'account.move'),('operation_type', '!=', 'read')]</field>
        <field name="search_view_id" ref="ics_ir_audit_log.view_auditlog_operation_search"/>
    </record>

       <record id="ir_action_window_tree_view1" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_auditlog_operation_tree_audit_trail"/>
            <field name="act_window_id" ref="action_auditrail_operation_tree"/>
        </record>

    <menuitem
        id="menu_audit_trail_logs"
        name="Audit Trail"
        parent="ics_account_reports.menu_root_account_audit_reports"
        action="action_auditrail_operation_tree"
        groups="ics_ir_audit_log.group_auditlog_user,odoo_base.group_freight_technical_support_team"
    />
</odoo>
