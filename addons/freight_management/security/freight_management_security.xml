<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="module_category_shipment" model="ir.module.category">
        <field name="name">Shipment</field>
        <field name="description">Helps you handle your Shipment.</field>
        <field name="sequence">1</field>
    </record>

    <record id="group_shipment_own_docs" model="res.groups">
        <field name="name">User: Own Documents Only</field>
        <field name="category_id" ref="module_category_shipment"/>
        <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        <field name="comment">the user will have access to his own house and master shipment record in the Operations.</field>
    </record>

    <record id="group_shipment_all_docs" model="res.groups">
        <field name="name">User: All Documents</field>
        <field name="category_id" ref="module_category_shipment"/>
        <field name="implied_ids" eval="[(4, ref('group_shipment_own_docs'))]"/>
        <field name="comment">the user will have access to all house and master shipment record of everyone in the Operations.</field>
    </record>

    <!-- TODO:Define role of this group-->
    <record id="group_shipment_manager" model="res.groups">
        <field name="name">Administrator</field>
        <field name="comment">the user will have an admin access to the Shipment.</field>
        <field name="category_id" ref="module_category_shipment"/>
        <field name="implied_ids" eval="[(4, ref('group_shipment_all_docs'))]"/>
        <field name="users" eval="[(4, ref('base.user_root')), (4, ref('base.user_admin'))]"/>
    </record>

    <record id="group_super_admin" model="res.groups">
        <field name="name">Super Admin</field>
        <field name="comment">The user will have super admin access.</field>
        <field name="category_id" ref="module_category_shipment"/>
        <field name="implied_ids" eval="[(4, ref('group_shipment_manager'))]"/>
    </record>

    <record id="group_user_reexport_creator_team" model="res.groups">
        <field name="name">ReExport Creator Team</field>
        <field name="comment">The user can create Reexport Shipment from Import Shipment.</field>
        <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
    </record>

    <!--<record id="shipment_own_rule" model="ir.rule">
        <field name="name">Shipment: Own Only</field>
        <field ref="model_freight_house_shipment" name="model_id"/>
        <field name="domain_force">['|', '|', '|',('user_id','=',user.id), ('user_id','=',False), ('parent_id.house_shipment_ids.user_id', '=', user.id),('parent_id.user_id', '=', user.id)]</field>
        <field name="groups" eval="[(4, ref('freight_management.group_shipment_own_docs'))]"/>
    </record>
    <record id="house_master_shipment_compatible_rule" model="ir.rule">
        <field name="name">House-Master Shipment: Compatible</field>
        <field ref="model_freight_master_shipment" name="model_id"/>
        <field name="domain_force">['|', '|', ('user_id','=',user.id), ('user_id','=',False), ('house_shipment_ids.user_id', '=',  user.id)]</field>
        <field name="groups" eval="[(4, ref('freight_management.group_shipment_own_docs'))]"/>
    </record>-->
    <!--<record id="shipment_see_all_rule" model="ir.rule">
        <field name="name">Shipment: All</field>
        <field ref="model_freight_house_shipment" name="model_id"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('freight_management.group_shipment_all_docs'))]"/>
    </record>
    <record id="master_shipment_see_all_rule" model="ir.rule">
        <field name="name">Master Shipment: All</field>
        <field ref="model_freight_master_shipment" name="model_id"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('freight_management.group_shipment_all_docs'))]"/>
    </record>-->

    <data noupdate="1">

        <record id="model_freight_house_shipment_company_rule" model="ir.rule">
            <field name="name">Freight Shipment Multi-Company</field>
            <field name="model_id" ref="freight_management.model_freight_house_shipment"/>
            <field name="domain_force">['|',('company_id','=',False), ('company_id', 'in', company_ids)]</field>
        </record>

        <record id="model_freight_house_shipment_package_company_rule" model="ir.rule">
            <field name="name">Shipment Package Multi-Company</field>
            <field name="model_id" ref="freight_management.model_freight_house_shipment_package"/>
            <field name="domain_force">['|',('company_id','=',False), ('company_id', 'in', company_ids)]</field>
        </record>

        <record id="model_freight_house_shipment_route_company_rule" model="ir.rule">
            <field name="name">Freight Shipment Route Multi-Company</field>
            <field name="model_id" ref="freight_management.model_freight_house_shipment_route"/>
            <field name="domain_force">['|',('company_id','=',False), ('company_id', 'in', company_ids)]</field>
        </record>

        <!-- Master shipment -->
        <record id="model_freight_master_shipment_company_rule" model="ir.rule">
            <field name="name">Freight Master Shipment Multi-Company</field>
            <field name="model_id" ref="freight_management.model_freight_master_shipment"/>
            <field name="domain_force">['|',('company_id','=',False), ('company_id', 'in', company_ids)]</field>
        </record>

        <record id="model_freight_master_shipment_package_company_rule" model="ir.rule">
            <field name="name">Masster Shipment Package Multi-Company</field>
            <field name="model_id" ref="freight_management.model_freight_master_shipment_package"/>
            <field name="domain_force">['|',('company_id','=',False), ('company_id', 'in', company_ids)]</field>
        </record>

        <record id="model_freight_master_shipment_route_company_rule" model="ir.rule">
            <field name="name">Freight Master Shipment Route Multi-Company</field>
            <field name="model_id" ref="freight_management.model_freight_master_shipment_route"/>
            <field name="domain_force">['|',('company_id','=',False), ('company_id', 'in', company_ids)]</field>
        </record>

        <!--Multi Company for master booking container number-->
        <record id="model_freight_master_shipment_container_number_company_rule" model="ir.rule">
            <field name="name">Booking Container Number Multi-Company</field>
            <field name="model_id" ref="freight_management.model_freight_master_shipment_container_number"/>
            <field name="domain_force">['|', '|', ('shipment_id', '=', False), ('shipment_id.company_id','=',False), ('shipment_id.company_id', 'in', company_ids)]</field>
        </record>

        <record model="ir.rule" id="freight_house_shipment_admin_rule">
            <field name="name">freight_house_shipment: Admin Access</field>
            <field name="model_id" ref="freight_management.model_freight_house_shipment"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('base.group_system')), (4, ref('freight_base.group_operation_manager')),
             (4, ref('freight_base.group_operation_administrator'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>

        <record model="ir.rule" id="freight_house_shipment_associate_rule">
            <field name="name">freight_house_shipment: Associate Access</field>
            <field name="model_id" ref="freight_management.model_freight_house_shipment"/>
            <field name="domain_force">	[('user_id','=', user.id)]</field>
            <field name="groups" eval="[(4, ref('freight_base.group_operation_associate'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>

        <record model="ir.rule" id="freight_master_shipment_admin_rule">
            <field name="name">freight_master_shipment: Admin Access</field>
            <field name="model_id" ref="freight_management.model_freight_master_shipment"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('base.group_system')), (4, ref('freight_base.group_operation_manager')),
             (4, ref('freight_base.group_operation_administrator'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>

        <record model="ir.rule" id="freight_master_shipment_associate_rule">
            <field name="name">freight_master_shipment: Associate Access</field>
            <field name="model_id" ref="freight_management.model_freight_master_shipment"/>
            <field name="domain_force">	[('user_id','=', user.id)]</field>
            <field name="groups" eval="[(4, ref('freight_base.group_operation_associate'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
            <field name="perm_write" eval="False"/>
        </record>

    </data>

</odoo>