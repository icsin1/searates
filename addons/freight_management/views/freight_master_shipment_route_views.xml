<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="freight_master_shipment_route_view_tree" model="ir.ui.view">
        <field name="name">freight.master.shipment.route.view.tree</field>
        <field name="model">freight.master.shipment.route</field>
        <field name="arch" type="xml">
            <tree>
                <field name="leg_number" widget="handle" />
                <field name="name" />
                <field name="transporter_name" />
                <field name="transport_vehicle_number"/>
                <field name="transport_mode_id" />
                <field name="from_location_id" />
                <field name="to_location_id" />
            </tree>
        </field>
    </record>
    <record id="freight_master_shipment_route_view_form" model="ir.ui.view">
        <field name="name">freight.master.shipment.route.view.form</field>
        <field name="model">freight.master.shipment.route</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <field name="name" invisible="1"/>
                    <field name="is_main_carriage" invisible="1"/>
                    <label for="transport_mode_id" string="Routing"/>
                    <div class="oe_title">
                        <h5 class="o_row" attrs="{'invisible': [('is_main_carriage', '=', True)]}">
                            <field class="select.o_field_widget.o_input" name="route_type" placeholder="Route Type" attrs="{'required': [('is_main_carriage', '=', False)]}"/> -
                            <field name="transport_mode_id" class=".o_field_widget.o_input_dropdown> input" placeholder="Transport Mode" options="{'no_create': True, 'no_open': True}" domain="[('allowed_route_mode_ids', 'in', shipment_transport_mode_id)]" attrs="{'readonly':[('route_type', '=', 'x-stuff')]}"/>
                        </h5>
                        <h3 class="o_row" attrs="{'invisible': [('is_main_carriage', '=', False)]}">
                            <field name="transport_mode_id" readonly="1" force_save="1" placeholder="Transport Mode" options="{'no_create': True, 'no_open': True}" domain="[('allowed_route_mode_ids', 'in', shipment_transport_mode_id)]"/>
                        </h3>
                        <field name="leg_number" invisible="1"/>
                    </div>
                    <group>
                        <group>
                            <field name="from_location_id" />
                        </group>
                        <group>
                            <field name="to_location_id" />
                            <field name="shipment_transport_mode_id" invisible="1"/>
                        </group>
                    </group>
                    <field name="transport_mode_type" invisible="1"/>
                    <group attrs="{'invisible': [('transport_mode_type', '!=', 'sea')]}" string="Vessel/Ship Details">
                        <group>
                            <label for="carrier_id" string="Shipping Line" />
                            <field name="carrier_id" nolabel="1" context="{'default_transport_mode_id': transport_mode_id}" domain="cargo_type_domain" options="{'no_create':1}"/>
                            <field name="vessel_id" context="{'default_carrier_id': carrier_id}" options="{'no_create':1}"/>
                            <field name="obl_number" />
                            <field name="voyage_number" />
                            <field name="shipper_id" attrs="{'invisible': [('route_type', '!=', 'x-stuff')]}"/>
                            <field name="consignee_id" attrs="{'invisible': [('route_type', '!=', 'x-stuff')]}"/>
                            <field name="container_no" attrs="{'invisible': [('route_type', '!=', 'x-stuff')]}"/>
                            <field name="customs_seal_number" string="Seal No" attrs="{'invisible': [('route_type', '!=', 'x-stuff')]}"/>
                        </group>
                        <group>
                            <field name="etd_time" />
                            <field name="eta_time" />
                            <field name="atd_time" />
                            <field name="ata_time" />
                            <field name="empty_container" />
                            <field name="empty_container_reference" />
                        </group>
                    </group>
                    <group attrs="{'invisible': [('transport_mode_type', '!=', 'land')]}" string="Transporter Details">
                        <group>
                            <field name="carrier_transport_mode" widget="radio" options="{'horizontal': True}" string="Carrier Mode"/>
                            <!-- Carrier -->
                            <field name="cargo_type_domain" invisible="1" />
                            <label for="carrier_id" string="Trucker" attrs="{'invisible': [('carrier_transport_mode', '!=', 'truck')]}"/>
                            <field name="carrier_id" domain="cargo_type_domain" nolabel="1" context="{'default_transport_mode_id': transport_mode_id}" attrs="{'invisible': [('carrier_transport_mode', '!=', 'truck')]}"
                                options="{'no_create':1}"/>

                            <!-- Carrier Identifier -->
                            <label for="carrier_identifier" string="Driver Licence No" attrs="{'invisible': [('carrier_transport_mode', '!=', 'truck')]}"/>
                            <field name="carrier_identifier" nolabel="1" attrs="{'invisible': [('carrier_transport_mode', '!=', 'truck')]}"/>

                            <!-- Carrier Driver Name -->
                            <label for="carrier_driver_name" string="Truck Driver" attrs="{'invisible': [('carrier_transport_mode', '!=', 'truck')]}"/>
                            <field name="carrier_driver_name" nolabel="1" attrs="{'invisible': [('carrier_transport_mode', '!=', 'truck')]}"/>
                            <label for="carrier_driver_name" string="CTO Name" attrs="{'invisible': [('carrier_transport_mode', '!=', 'rail')]}"/>
                            <field name="carrier_driver_name" nolabel="1" attrs="{'invisible': [('carrier_transport_mode', '!=', 'rail')]}"/>

                            <!-- Carrier Vehicle Number -->
                            <label for="carrier_vehicle_number" string="Vehicle Reg. Number" attrs="{'invisible': [('carrier_transport_mode', '!=', 'truck')]}"/>
                            <field name="carrier_vehicle_number" nolabel="1" attrs="{'invisible': [('carrier_transport_mode', '!=', 'truck')]}"/>
                            <label for="carrier_vehicle_number" string="Wagon Number" attrs="{'invisible': [('carrier_transport_mode', '!=', 'rail')]}"/>
                            <field name="carrier_vehicle_number" nolabel="1" attrs="{'invisible': [('carrier_transport_mode', '!=', 'rail')]}"/>

                            <!-- Trucker Trailer Number -->
                            <field name="carrier_trailer_number" attrs="{'invisible': [('carrier_transport_mode', '!=', 'truck')]}"/>
                            <field name="remarks" />
                        </group>
                        <group>
                            <field name="etd_time" />
                            <field name="eta_time" />
                            <field name="atd_time" />
                            <field name="ata_time" />
                            <field name="empty_container" />
                            <field name="empty_container_reference" />
                        </group>
                    </group>
                    <group attrs="{'invisible': [('transport_mode_type', '!=', 'air')]}" string="Flight Details">
                        <group>
                            <label for="carrier_id" string="Airlines" />
                            <field name="carrier_id" nolabel="1" context="{'default_transport_mode_id': transport_mode_id}" domain="cargo_type_domain" options="{'no_create':1}"/>
                            <field name="flight_number" />
                            <field name="mawb_number" />
                        </group>
                        <group>
                            <field name="etd_time" />
                            <field name="eta_time" />
                            <field name="atd_time" />
                            <field name="ata_time" />
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
</odoo>
