<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">

        <record id="ics_account_reports_general_trial_balance" model="web.report">
            <field name="name">Trial Balance</field>
            <field name="model_id" ref="account.model_account_move_line"/>
            <field name="data_match_domain" eval="[('move_id.state', '=', 'posted'), ('account_id', '!=', False)]"/>
            <field name="filter_multi_company">selector</field>
            <field name="filter_date_type">date_range</field>
            <field name="default_opening_date">this_month</field>
            <field name="date_field" ref="account.field_account_move_line__date"/>
            <field name="is_account_report" eval="True"/>
            <field name="report_handler_model_id" ref="ics_account_reports.model_account_general_trial_balance_handler"/>
            <field name="enable_report_handler_code" eval="False"/>
            <field name="report_handler_python_code"></field>
        </record>

        <record id="fm_acc_report_general_trial_balance_line" model="web.report.line">
            <field name="web_report_id" ref="ics_account_reports_general_trial_balance"/>
            <field name="name">Accounts</field>
            <field name="code">TRLBL</field>
            <field name="sequence">1</field>
            <field name="hierarchy_level">1</field>
            <field name="group_total" eval="True"/>
            <field name="group_by_fields">account_id,id</field>
            <field name="compute_opening_and_closing_balance" eval="True"/>
            <field name="action_id" ref="account.action_move_journal_line"/>
            <field name="action_field_id" ref="account.field_account_move_line__move_id"/>
            <field name="strict_on_date_range" eval="False"/>
        </record>

        <record id="fm_acc_report_general_trial_balance_move_name" model="web.report.expression">
            <field name="web_report_line_id" ref="fm_acc_report_general_trial_balance_line"/>
            <field name="name">move_name</field>
            <field name="computation_engine">field</field>
            <field name="formula_expression">move_name</field>
            <field name="value_type">string</field>
        </record>

        <record id="fm_acc_report_general_trial_balance_title" model="web.report.expression">
            <field name="web_report_line_id" ref="fm_acc_report_general_trial_balance_line"/>
            <field name="name">title</field>
            <field name="computation_engine">python_code</field>
            <field name="formula_expression">move_name</field>
            <field name="value_type">string</field>
        </record>

        <record id="fm_acc_report_general_trial_balance_field_currency" model="web.report.expression">
            <field name="web_report_line_id" ref="fm_acc_report_general_trial_balance_line"/>
            <field name="name">currency_id</field>
            <field name="computation_engine">field</field>
            <field name="formula_expression">currency_id</field>
            <field name="value_type">string</field>
        </record>

        <record id="fm_acc_report_general_trial_balance_initial_debit_balance" model="web.report.expression">
            <field name="web_report_line_id" ref="fm_acc_report_general_trial_balance_line"/>
            <field name="name">initial_debit_balance</field>
            <field name="computation_engine">python_code</field>
            <field name="formula_expression">_report_handler_general_ledger_values</field>
            <field name="subformula_expression">initial_debit_balance</field>
            <field name="value_type">monetary</field>
            <field name="allow_aggregate" eval="True"/>
        </record>

        <record id="fm_acc_report_general_trial_balance_initial_credit_balance" model="web.report.expression">
            <field name="web_report_line_id" ref="fm_acc_report_general_trial_balance_line"/>
            <field name="name">initial_credit_balance</field>
            <field name="computation_engine">python_code</field>
            <field name="formula_expression">_report_handler_general_ledger_values</field>
            <field name="subformula_expression">initial_credit_balance</field>
            <field name="value_type">monetary</field>
            <field name="allow_aggregate" eval="True"/>
        </record>

        <record id="fm_acc_report_general_trial_balance_debit" model="web.report.expression">
            <field name="web_report_line_id" ref="fm_acc_report_general_trial_balance_line"/>
            <field name="name">debit</field>
            <field name="computation_engine">field</field>
            <field name="formula_expression">debit</field>
            <field name="value_type">monetary</field>
            <field name="allow_aggregate" eval="True"/>
        </record>

        <record id="fm_acc_report_general_trial_balance_credit" model="web.report.expression">
            <field name="web_report_line_id" ref="fm_acc_report_general_trial_balance_line"/>
            <field name="name">credit</field>
            <field name="computation_engine">field</field>
            <field name="formula_expression">credit</field>
            <field name="value_type">monetary</field>
            <field name="allow_aggregate" eval="True"/>
        </record>

        <record id="fm_acc_report_general_trial_balance_closing_debit_balance" model="web.report.expression">
            <field name="web_report_line_id" ref="fm_acc_report_general_trial_balance_line"/>
            <field name="name">closing_debit_balance</field>
            <field name="computation_engine">python_code</field>
            <field name="formula_expression">_report_handler_general_ledger_values</field>
            <field name="subformula_expression">closing_debit_balance</field>
            <field name="value_type">monetary</field>
            <field name="allow_aggregate" eval="True"/>
        </record>

        <record id="fm_acc_report_general_trial_balance_closing_credit_balance" model="web.report.expression">
            <field name="web_report_line_id" ref="fm_acc_report_general_trial_balance_line"/>
            <field name="name">closing_credit_balance</field>
            <field name="computation_engine">python_code</field>
            <field name="formula_expression">_report_handler_general_ledger_values</field>
            <field name="subformula_expression">closing_credit_balance</field>
            <field name="value_type">monetary</field>
            <field name="allow_aggregate" eval="True"/>
        </record>

        <!-- Columns -->

        <record id="fm_acc_report_general_trial_balance_column_initial_debit_balance" model="web.report.column">
            <field name="web_report_id" ref="ics_account_reports_general_trial_balance"/>
            <field name="name">Opening Debit</field>
            <field name="expression_label">initial_debit_balance</field>
            <field name="sequence">1</field>
            <field name="value_type">monetary</field>
            <field name="hide_if_zero" eval="True"/>
        </record>

        <record id="fm_acc_report_general_trial_balance_column_initial_credit_balance" model="web.report.column">
            <field name="web_report_id" ref="ics_account_reports_general_trial_balance"/>
            <field name="name">Opening Credit</field>
            <field name="expression_label">initial_credit_balance</field>
            <field name="sequence">2</field>
            <field name="value_type">monetary</field>
            <field name="hide_if_zero" eval="True"/>
        </record>

        <record id="fm_acc_report_general_trial_balance_column_debit" model="web.report.column">
            <field name="web_report_id" ref="ics_account_reports_general_trial_balance"/>
            <field name="name">Debit</field>
            <field name="expression_label">debit</field>
            <field name="sequence">3</field>
            <field name="value_type">monetary</field>
        </record>

        <record id="fm_acc_report_general_trial_balance_column_credit" model="web.report.column">
            <field name="web_report_id" ref="ics_account_reports_general_trial_balance"/>
            <field name="name">Credit</field>
            <field name="expression_label">credit</field>
            <field name="sequence">4</field>
            <field name="value_type">monetary</field>
        </record>

        <record id="fm_acc_report_general_trial_balance_column_closing_debit_balance" model="web.report.column">
            <field name="web_report_id" ref="ics_account_reports_general_trial_balance"/>
            <field name="name">Closing Debit</field>
            <field name="expression_label">closing_debit_balance</field>
            <field name="sequence">5</field>
            <field name="value_type">monetary</field>
        </record>

        <record id="fm_acc_report_general_trial_balance_column_closing_credit_balance" model="web.report.column">
            <field name="web_report_id" ref="ics_account_reports_general_trial_balance"/>
            <field name="name">Closing Credit</field>
            <field name="expression_label">closing_credit_balance</field>
            <field name="sequence">6</field>
            <field name="value_type">monetary</field>
        </record>

        <record id="fm_acc_report_general_trial_balance_filter_account" model="web.report.filter">
            <field name="web_report_id" ref="ics_account_reports_general_trial_balance"/>
            <field name="name">Accounts</field>
            <field name="filter_key">filter_account</field>
            <field name="model_id" ref="account.model_account_move_line"/>
            <field name="ir_model_field_id" ref="account.field_account_move_line__account_id"/>
            <field name="filter_type">multi_relation</field>
        </record>

    </data>
</odoo>
