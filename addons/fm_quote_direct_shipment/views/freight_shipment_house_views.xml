<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="freight_house_shipment_view_form_freight_management" model="ir.ui.view">
        <field name="name">freight.house.shipment.view.form.inherit</field>
        <field name="model">freight.house.shipment</field>
        <field name="inherit_id" ref="freight_management.freight_house_shipment_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//sheet/div[hasclass('row')]/div[last()]" position="attributes">
                <attribute name="attrs">{'invisible': [('is_quote_direct_shipment', '=', True)]}</attribute>
            </xpath>
            <xpath expr="//field[@name='shipment_type_key']" position="after">
                <field name="create_shipment_for" invisible="1"/>
                <field name="is_quote_direct_shipment" invisible="1" />
            </xpath>
            <xpath expr="//button[@name='action_create_master_shipment']" position="attributes">
                <attribute name="attrs">{'invisible': ['|', '|', '|', '|', ('is_quote_direct_shipment', '=', True), ('state', 'in', ['cancelled', 'completed']), ('is_direct_shipment', '=', False), 
                    ('parent_id', '!=', False), ('allow_edit_external_carrier_bookings', '!=', False)]}</attribute>
            </xpath>
        </field>
    </record>

    <menuitem id="freight_management.freight_shipment_house_menu" name="Shipment"
        action="freight_management.freight_shipment_house_action"
        parent="freight_base.root_freight_operations"
        sequence="2"/>

    <record id="freight_management.freight_shipment_house_action" model="ir.actions.act_window">
        <field name="name">Shipment</field>
    </record>

    <menuitem id="freight_management.freight_shipment_master_menu" name="Consol"
        action="freight_management.freight_shipment_master_action"
        parent="freight_base.root_freight_operations"
        sequence="2"/>

    <record id="freight_management.freight_shipment_master_action" model="ir.actions.act_window">
        <field name="name">Consol</field>
    </record>

</odoo>
