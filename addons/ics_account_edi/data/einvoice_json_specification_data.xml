<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">

        <!-- eInvoice Product Category -->
        <record id="einvoice_freight_product" model="freight.product">
            <field name="name">Customer Invoice/Credit Note for eInvoice</field>
            <field name="model_id" ref="account.model_account_move"/>
            <field name="match_domain">["|", ["move_type", "=", "out_invoice"], ["move_type", "=", "out_refund"]]</field>
        </record>

        <!-- eInvoice JSON Specification -->
        <record id="einvoice_json_specification" model="product.json.specification">
            <field name="name">Global eInvoice JSON Data Specification</field>
            <field name="model_id" ref="account.model_account_move"/>
            <field name="freight_product_id" ref="einvoice_freight_product"/>
            <field name="description">Global e-Invoice JSON Data Specification</field>
        </record>

        <!-- Properties -->
        <record id="einvoice_prop_invoice_number" model="product.json.specification.property">
            <field name="specification_id" ref="einvoice_json_specification"/>
            <field name="property_type">field</field>
            <field name="ir_model_field" ref="account.field_account_move__name"/>
            <field name="name">invoice_number</field>
            <field name="ttype">char</field>
            <field name="is_required" eval="True"/>
        </record>
        <record id="einvoice_prop_document_type" model="product.json.specification.property">
            <field name="specification_id" ref="einvoice_json_specification"/>
            <field name="property_type">prop</field>
            <field name="name">document_type</field>
            <field name="ttype">char</field>
            <field name="python_code">result = record._get_document_type()</field>
            <field name="is_required" eval="True"/>
        </record>
        <record id="einvoice_prop_invoice_tax_reverse_charge" model="product.json.specification.property">
            <field name="specification_id" ref="einvoice_json_specification"/>
            <field name="property_type">prop</field>
            <field name="name">tax_reverse_charge</field>
            <field name="ttype">boolean</field>
            <field name="python_code">result = record._get_is_tax_reverse_charge()</field>
        </record>
        <record id="einvoice_prop_invoice_is_overseas" model="product.json.specification.property">
            <field name="specification_id" ref="einvoice_json_specification"/>
            <field name="property_type">prop</field>
            <field name="name">is_overseas</field>
            <field name="ttype">boolean</field>
            <field name="python_code">result = record._get_is_overseas()</field>
        </record>
        <record id="einvoice_prop_supply_type" model="product.json.specification.property">
            <field name="specification_id" ref="einvoice_json_specification"/>
            <field name="property_type">prop</field>
            <field name="name">supply_type</field>
            <field name="ttype">char</field>
            <field name="python_code">result = record._get_supply_type()</field>
            <field name="is_required" eval="True"/>
        </record>
        <record id="einvoice_prop_invoice_date" model="product.json.specification.property">
            <field name="specification_id" ref="einvoice_json_specification"/>
            <field name="property_type">field</field>
            <field name="ir_model_field" ref="account.field_account_move__invoice_date"/>
            <field name="name">invoice_date</field>
            <field name="ttype">date</field>
            <field name="raw_value" eval="True"/>
            <field name="is_required" eval="True"/>
        </record>
        <record id="einvoice_prop_invoice_currency" model="product.json.specification.property">
            <field name="specification_id" ref="einvoice_json_specification"/>
            <field name="property_type">field</field>
            <field name="relation_model_id" ref="base.model_res_currency"/>
            <field name="ir_model_field" ref="account.field_account_move__currency_id"/>
            <field name="name">invoice_currency</field>
            <field name="ttype">many2one</field>
            <field name="is_required" eval="True"/>
        </record>
        <record id="einvoice_prop_total_amount_excluding_tax" model="product.json.specification.property">
            <field name="specification_id" ref="einvoice_json_specification"/>
            <field name="property_type">field</field>
            <field name="ir_model_field" ref="account.field_account_move__amount_untaxed"/>
            <field name="name">total_amount_excluding_tax</field>
            <field name="ttype">monetary</field>
            <field name="raw_value" eval="True"/>
            <field name="is_required" eval="True"/>
        </record>
        <record id="einvoice_prop_total_amount_including_tax" model="product.json.specification.property">
            <field name="specification_id" ref="einvoice_json_specification"/>
            <field name="property_type">field</field>
            <field name="ir_model_field" ref="account.field_account_move__amount_total"/>
            <field name="name">total_amount_including_tax</field>
            <field name="ttype">monetary</field>
            <field name="raw_value" eval="True"/>
            <field name="is_required" eval="True"/>
        </record>

        <record id="einvoice_prop_customer" model="product.json.specification.property">
            <field name="specification_id" ref="einvoice_json_specification"/>
            <field name="property_type">field</field>
            <field name="relation_model_id" ref="account.model_res_partner"/>
            <field name="ir_model_field" ref="account.field_account_move__partner_id"/>
            <field name="property_specification_id" ref="einvoice_json_specification__customer"/>
            <field name="name">customer</field>
            <field name="ttype">many2one</field>
            <field name="is_required" eval="True"/>
        </record>

        <record id="einvoice_prop_invoice_lines" model="product.json.specification.property">
            <field name="specification_id" ref="einvoice_json_specification"/>
            <field name="property_type">field</field>
            <field name="relation_model_id" ref="account.model_account_move_line"/>
            <field name="ir_model_field" ref="account.field_account_move__invoice_line_ids"/>
            <field name="property_specification_id" ref="einvoice_json_specification__move_line"/>
            <field name="name">invoice_lines</field>
            <field name="ttype">one2many</field>
            <field name="is_required" eval="True"/>
        </record>

        <record id="einvoice_prop_attachments" model="product.json.specification.property">
            <field name="specification_id" ref="einvoice_json_specification"/>
            <field name="property_type">prop</field>
            <field name="name">attachments</field>
            <field name="ttype">computed</field>
            <field name="python_code">result = record._get_edi_attachments()</field>
        </record>

        <record id="einvoice_prop_export_details" model="product.json.specification.property">
            <field name="specification_id" ref="einvoice_json_specification"/>
            <field name="property_type">prop</field>
            <field name="name">export_details</field>
            <field name="ttype">computed</field>
            <field name="python_code">result = record._get_export_details()</field>
            <field name="is_required" eval="False"/>
        </record>
    </data>
</odoo>
